"use strict";const n=require("electron"),d=require("@electron-toolkit/utils"),i=require("path");function w(e){d.electronApp.setAppUserModelId(e)}function c(){return process.env.ELECTRON_RENDERER_URL?process.env.ELECTRON_RENDERER_URL:`file://${i.join(__dirname,"../renderer/index.html")}`}const o={width:1366,height:768};function s(e){return new n.BrowserWindow({width:e.width,height:e.height,show:e.show??!1,autoHideMenuBar:e.autoHideMenuBar??!0,icon:e.icon,webPreferences:{preload:i.join(__dirname,"../preload/index.js"),sandbox:!1}})}function r(e){const t=s({width:o.width,height:o.height,show:!1,autoHideMenuBar:!0,icon:e});t.loadURL(c()),t.on("ready-to-show",()=>{t.show()})}function h(){const e=s({width:o.width,height:o.height,show:!0,autoHideMenuBar:!0}),t="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36";e.webContents.userAgent=t,e.loadURL("https://web.whatsapp.com",{userAgent:t})}const a=i.join(__dirname,"../../resources/icon.png");n.app.whenReady().then(()=>{w("com.electron"),n.app.on("browser-window-created",()=>{}),n.ipcMain.on("open-whatsapp",h),r(a),n.app.on("activate",function(){n.BrowserWindow.getAllWindows().length===0&&r(a)})});n.app.on("window-all-closed",()=>{process.platform!=="darwin"&&n.app.quit()});
